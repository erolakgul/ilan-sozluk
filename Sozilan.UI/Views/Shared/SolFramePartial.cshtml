@using Sozilan.Data.DataContext

<div class="col-lg-3">
    <h4 style="padding-left:4px;color:#ee7208;">Güncel Başlıklar</h4>
    <table class="table table-hover" style="border-right:2px solid #ffffff;">
        @using (ManagementSystemContext db = new ManagementSystemContext())
        {
            // entry silme olduğu zaman sol frame de görülen toplam entry sayısı değişmeyecek
            // eğer silme işlemi çok fazla olursa db den false olan entry ler silinip count güncel hale getirilebilir
            
            var tit = db.Title.Where(z => z.IsActive).Take(15).OrderByDescending(c => c.UpdateDate).ToList();

            foreach (var item in tit)
            {
                <tr>
                    <td>
                        @Html.ActionLink(item.Content, "Basliklar", new { id = item.ID })
                    </td>
                    <td class="text-right">@Html.DisplayFor(model => item.Entries.Count)</td>
                </tr>
            }
            db.Dispose();
        }
    </table>
</div>